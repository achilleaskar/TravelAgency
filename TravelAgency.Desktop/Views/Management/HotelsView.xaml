<UserControl x:Class="TravelAgency.Desktop.Views.HotelsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <DockPanel>
        <!-- Toolbar -->
        <Grid DockPanel.Dock="Top"
              Margin="8,6,8,6">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="220" />
                <ColumnDefinition Width="12" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="12" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="12" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0"
                       Text="Search"
                       Style="{StaticResource FormLabel}" />
            <TextBox   Grid.Column="1"
                       Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                       Style="{StaticResource FormControl}" />

            <Button Grid.Column="3"
                    Content="Load"
                    Command="{Binding LoadCommand}"
                    Style="{StaticResource FormControl}" />
            <Button Grid.Column="5"
                    Content="Add New"
                    Command="{Binding BeginNewCommand}"
                    Style="{StaticResource FormControl}" />
            <Button Grid.Column="7"
                    Content="Edit"
                    Command="{Binding BeginEditCommand}"
                    IsEnabled="{Binding CanEdit}"
                    Style="{StaticResource FormControl}" />
        </Grid>

        <Grid Margin="8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="12" />
                <ColumnDefinition Width="2*" />
                </Grid.Columninitions>

                <DataGrid Grid.Column="0"
                          ItemsSource="{Binding Items}"
                          SelectedItem="{Binding Selected}"
                          AutoGenerateColumns="False"
                          IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Hotel"
                                            Binding="{Binding Name}"
                                            Width="220" />
                        <DataGridTextColumn Header="City"
                                            Binding="{Binding City.Name}"
                                            Width="160" />
                        <DataGridTextColumn Header="Address"
                                            Binding="{Binding Address}"
                                            Width="*" />
                        <DataGridTextColumn Header="Phone"
                                            Binding="{Binding Phone}"
                                            Width="140" />
                        <DataGridTextColumn Header="Email"
                                            Binding="{Binding Email}"
                                            Width="180" />
                    </DataGrid.Columns>
                </DataGrid>

                <GridSplitter Grid.Column="1"
                              Width="12" />

                <Border Grid.Column="2"
                        Padding="12"
                        BorderBrush="#DDD"
                        BorderThickness="1"
                        CornerRadius="6">
                    <StackPanel>
                        <TextBlock Text="{Binding EditorTitle}"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Margin="0,0,0,8" />

                        <StackPanel Orientation="Horizontal"
                                    Style="{StaticResource FormRow}">
                            <TextBlock Text="Name"
                                       Style="{StaticResource FormLabel}" />
                            <TextBox Width="260"
                                     Text="{Binding EditName}"
                                     Style="{StaticResource FormControl}"
                                     IsEnabled="{Binding IsEditing}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal"
                                    Style="{StaticResource FormRow}">
                            <TextBlock Text="City"
                                       Style="{StaticResource FormLabel}" />
                            <ComboBox Width="220"
                                      ItemsSource="{Binding Cities}"
                                      DisplayMemberPath="Name"
                                      SelectedItem="{Binding EditCity}"
                                      Style="{StaticResource FormControl}"
                                      IsEnabled="{Binding IsEditing}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal"
                                    Style="{StaticResource FormRow}">
                            <TextBlock Text="Address"
                                       Style="{StaticResource FormLabel}" />
                            <TextBox Width="320"
                                     Text="{Binding EditAddress}"
                                     Style="{StaticResource FormControl}"
                                     IsEnabled="{Binding IsEditing}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal"
                                    Style="{StaticResource FormRow}">
                            <TextBlock Text="Phone"
                                       Style="{StaticResource FormLabel}" />
                            <TextBox Width="180"
                                     Text="{Binding EditPhone}"
                                     Style="{StaticResource FormControl}"
                                     IsEnabled="{Binding IsEditing}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal"
                                    Style="{StaticResource FormRow}">
                            <TextBlock Text="Email"
                                       Style="{StaticResource FormLabel}" />
                            <TextBox Width="240"
                                     Text="{Binding EditEmail}"
                                     Style="{StaticResource FormControl}"
                                     IsEnabled="{Binding IsEditing}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal"
                                    Style="{StaticResource FormRow}">
                            <TextBlock Text="Notes"
                                       Style="{StaticResource FormLabel}" />
                            <TextBox Width="360"
                                     Height="60"
                                     AcceptsReturn="True"
                                     TextWrapping="Wrap"
                                     Text="{Binding EditNotes}"
                                     Style="{StaticResource FormControl}"
                                     IsEnabled="{Binding IsEditing}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <Button Content="Save"
                                    Command="{Binding SaveCommand}"
                                    IsEnabled="{Binding IsEditing}"
                                    Style="{StaticResource FormControl}" />
                            <Button Content="Cancel"
                                    Command="{Binding CancelCommand}"
                                    IsEnabled="{Binding IsEditing}"
                                    Style="{StaticResource FormControl}" />
                            <Button Content="Delete"
                                    Command="{Binding DeleteCommand}"
                                    IsEnabled="{Binding CanDelete}"
                                    Style="{StaticResource FormControl}" />
                        </StackPanel>

                        <TextBlock Text="{Binding EditorHint}"
                                   Foreground="Gray"
                                   Margin="0,8,0,0" />
                    </StackPanel>
                </Border>
        </Grid>
    </DockPanel>
</UserControl>
