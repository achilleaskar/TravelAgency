<UserControl x:Class="TravelAgency.Desktop.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewmodels="clr-namespace:TravelAgency.Desktop.ViewModels"
             d:DataContext="{d:DesignInstance Type=viewmodels:DashboardViewModel}"
             mc:Ignorable="d"
             d:DesignHeight="450"
             Background="White"
             d:DesignWidth="800">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Filters -->
        <Grid Margin="0,0,0,8">
            <Grid.ColumnDefinitions>
                <!-- Label / Field pairs with small fixed gaps (12) to keep it tight -->
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="220" />
                <ColumnDefinition Width="12" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="160" />
                <ColumnDefinition Width="12" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="220" />
                <ColumnDefinition Width="12" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="220" />
                <ColumnDefinition Width="12" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Customer -->
            <TextBlock Grid.Column="0"
                       Text="Customer"
                       Style="{StaticResource FormLabel}" />
            <ComboBox  Grid.Column="1"
                       ItemsSource="{Binding Customers}"
                       DisplayMemberPath="Name"
                       SelectedItem="{Binding SelectedCustomer}"
                       Style="{StaticResource FormControl}" />

            <!-- Country -->
            <TextBlock Grid.Column="3"
                       Text="Country"
                       Style="{StaticResource FormLabel}" />
            <ComboBox  Grid.Column="4"
                       ItemsSource="{Binding Countries}"
                       SelectedItem="{Binding SelectedCountry}"
                       Style="{StaticResource FormControl}" />

            <!-- Hotel -->
            <TextBlock Grid.Column="6"
                       Text="Hotel"
                       Style="{StaticResource FormLabel}" />
            <ComboBox  Grid.Column="7"
                       ItemsSource="{Binding Hotels}"
                       DisplayMemberPath="Name"
                       SelectedItem="{Binding SelectedHotel}"
                       Style="{StaticResource FormControl}" />

            <!-- Search -->
            <TextBlock Grid.Column="9"
                       Text="Search"
                       Style="{StaticResource FormLabel}" />
            <TextBox   Grid.Column="10"
                       Width="210"
                       Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                       Style="{StaticResource FormControl}" />

            <!-- Refresh -->
            <Button Grid.Column="12"
                    Content="Refresh"
                    Command="{Binding LoadAlertsCommand}"
                    Style="{StaticResource FormControl}" />
        </Grid>
        <!-- Alerts grid (unchanged columns or include new ones if you added them) -->
        <DataGrid Grid.Row="1"
                  ItemsSource="{Binding Alerts}"
                  AutoGenerateColumns="False"
                  Margin="0">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Due"
                                    Binding="{Binding DueDate, StringFormat=dd/MM/yyyy}"
                                    Width="120" />
                <DataGridTextColumn Header="Message"
                                    Binding="{Binding Message}"
                                    Width="*" />
                <DataGridTextColumn Header="Severity"
                                    Binding="{Binding Severity}"
                                    Width="120" />
                <DataGridTextColumn Header="Hotel"
                                    Binding="{Binding HotelName}"
                                    Width="160" />
                <DataGridTextColumn Header="Country"
                                    Binding="{Binding Country}"
                                    Width="120" />
                <DataGridTextColumn Header="Customer"
                                    Binding="{Binding CustomerName}"
                                    Width="160" />
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</UserControl>